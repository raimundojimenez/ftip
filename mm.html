
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mathematical Morphology &#8212; Fundamental Tools for Image Processing</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/jbvinc.css" />
    <link rel="stylesheet" type="text/css" href="_static/.ipynb_checkpoints/jbvinc-checkpoint.css" />
    <link rel="stylesheet" type="text/css" href="_static/spanels-index--0afa1ebdab0bb23b98b56d34c23d9f57.css" />
    <link rel="stylesheet" type="text/css" href="_static/spanels-variables--ffc7f74dcb1b9eecba2dbcbc22818714.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Interpolation" href="interpolation.html" />
    <link rel="prev" title="Compression" href="compression.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Fundamental Tools for Image Processing</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="preface.html">
   Preface
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Courses
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="definition.html">
   What is a Digital Image?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="operations.html">
   Arithmetic Operations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="histogram.html">
   Histogram
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="convolution.html">
   Convolution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="fourier.html">
   Fourier Transform
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="compression.html">
   Compression
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Mathematical Morphology
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="interpolation.html">
   Interpolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="registration.html">
   Registration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="segmentation.html">
   Segmentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="denoising.html">
   Denoising
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="deconvolution.html">
   Deconvolution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="xxx_pattern.html">
   (Pattern &amp; Co)
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  In-Class Sessions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="tp1.html">
   07/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp2.html">
   14/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp3.html">
   21/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp4.html">
   04/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp5.html">
   18/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp6.html">
   25/11/2020
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Corrections
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp1-code.html">
   07/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp2-code.html">
   14/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp3-code.html">
   21/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp4-code.html">
   04/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp5-code.html">
   18/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp6-code.html">
   25/10/2020
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference external" href="https://moodle3.unistra.fr/course/view.php?id=13708">
   Moodle
   <i class="fas fa-external-link-alt">
   </i>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python.html">
   Installing and Using Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="biblio.html">
   References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="license.html">
   License
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/mm.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/vincmazet/ftip/blob/master/mm.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-operators">
   Basic operators
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dilation">
     Dilation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#erosion">
     Erosion
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparison">
     Comparison
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#composition-of-basic-operators">
   Composition of basic operators
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#opening">
     Opening
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#closing">
     Closing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Comparison
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hit-or-miss-transform">
     Hit-or-miss transform
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="mathematical-morphology">
<h1>Mathematical Morphology<a class="headerlink" href="#mathematical-morphology" title="Permalink to this headline">¶</a></h1>
<p>Mathematical morphology gathers several techniques that apply to binary images, such as the ones resulting from thresholding.
The pixels in binary images take only two values: 0 or 1, true or false, white or black, etc.
There are extensions of these techniques to grayscale images, but this is beyond the scope of the course.
In this chapter, we consider that the images contain objects (represented by white pixels) on a background (black pixels).
We also consider that a binary image is equivalent to a set of pixels, the latter being the set of white pixels of the image.</p>
<div class="figure align-default" id="mm-mickey">
<img alt="_images/mickey.png" src="_images/mickey.png" />
<p class="caption"><span class="caption-number">Fig. 25 </span><span class="caption-text">Example of a binary image composed of on object (a famous mouse head) on a background.</span><a class="headerlink" href="#mm-mickey" title="Permalink to this image">¶</a></p>
</div>
<p>Before going further, it is necessary to recall the elementary operations that can be done on sets.
Consider <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span> as two sets.
Then:</p>
<ul class="simple">
<li><p>The complement of <span class="math notranslate nohighlight">\(A\)</span> is denoted <span class="math notranslate nohighlight">\(A^\mathrm{c}\)</span> and is the set of pixels which are not in <span class="math notranslate nohighlight">\(A\)</span>:
<span class="math notranslate nohighlight">\(A^\mathrm{c} = \{p \notin A \} \)</span></p></li>
<li><p>The union <span class="math notranslate nohighlight">\(A \cup B \)</span> of the two sets <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span> is the set of pixels present in <span class="math notranslate nohighlight">\(A\)</span> or <span class="math notranslate nohighlight">\(B\)</span> or both:
<span class="math notranslate nohighlight">\(A \cup B = \{p \in A \, \mathrm{or} \, p \in B \} \)</span></p></li>
<li><p>The intersection <span class="math notranslate nohighlight">\(A \cap B \)</span> is the set of pixels present simultaneously in <span class="math notranslate nohighlight">\(A\)</span> and in <span class="math notranslate nohighlight">\(B\)</span>:
<span class="math notranslate nohighlight">\(A \cap B = \{p \in A \, \mathrm{and} \, p \in B \} \)</span></p></li>
</ul>
<div class="figure align-default" id="f-mm-set-operations">
<div class="cell_output docutils container">
<img alt="_images/mm_3_1.png" src="_images/mm_3_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 26 </span><span class="caption-text">Illustration of operations on sets.</span><a class="headerlink" href="#f-mm-set-operations" title="Permalink to this image">¶</a></p>
</div>
<p>In addition to this, the operators of mathematical morphology need a so-called <em>structuring element</em>.
A structuring element <span class="math notranslate nohighlight">\(E\)</span> is a set of pixels (so equivalent to a binary image) associated with an origin.
Generally, the origin is located at the centre of the structuring element;
but it may be elsewhere, even outside the pixels of the structuring element.
In the sequel, we denote by <span class="math notranslate nohighlight">\(E_x\)</span> the structuring element centred on the pixel <span class="math notranslate nohighlight">\(x\)</span>.</p>
<div class="section" id="basic-operators">
<h2>Basic operators<a class="headerlink" href="#basic-operators" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dilation">
<h3>Dilation<a class="headerlink" href="#dilation" title="Permalink to this headline">¶</a></h3>
<p>Having an image <span class="math notranslate nohighlight">\(I\)</span> and a structuring element <span class="math notranslate nohighlight">\(E\)</span>, the dilation of <span class="math notranslate nohighlight">\(I\)</span> by <span class="math notranslate nohighlight">\(E\)</span> is noted <span class="math notranslate nohighlight">\(I \oplus E\)</span>.
The result of the dilation is obtained by moving the origin of the structuring element onto the white pixels of the image
and keeping the set of pixels of each displaced structuring element.</p>
<p>Mathematically speaking:</p>
<div class="math notranslate nohighlight">
\[
  I \oplus E = \{ E_x \mid x \in I \}
\]</div>
<div class="figure align-default" id="f-mm-dilation-toy">
<div class="cell_output docutils container">
<img alt="_images/mm_7_0.png" src="_images/mm_7_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 27 </span><span class="caption-text">Example of dilation on a small image <span class="math notranslate nohighlight">\(I\)</span> by the structuring element <span class="math notranslate nohighlight">\(E\)</span> (with the origin at the centre).</span><a class="headerlink" href="#f-mm-dilation-toy" title="Permalink to this image">¶</a></p>
</div>
<p>Question: how could you express the dilation as a convolution?</p>
<div class="toggle docutils container">
<p>You cannot.
The dilation is a binary operation and is not linear.
Therefore, it cannot be expressed as convolution which is a linear mathematical operator!</p>
</div>
<p><strong>Associativity</strong>  
The application of two consecutive dilations can be done in any order:</p>
<div class="math notranslate nohighlight">
\[
  (I \oplus  E_1 ) \oplus  E_2 = (I \oplus  E_2) \oplus  E_1 = I \oplus  (E_1 \oplus E_2)
\]</div>
<p><strong>Monotony</strong>  
Dilation is a monotonous operation,
that is to say, that the relations of inclusions are conserved:</p>
<div class="math notranslate nohighlight">
\[
  I_1 \subseteq I_2  \;\Rightarrow\;  I_1 \oplus E \subseteq I_2 \oplus E
\]</div>
</div>
<div class="section" id="erosion">
<h3>Erosion<a class="headerlink" href="#erosion" title="Permalink to this headline">¶</a></h3>
<p>The erosion of <span class="math notranslate nohighlight">\(I\)</span> by <span class="math notranslate nohighlight">\(E\)</span> is noted <span class="math notranslate nohighlight">\(I \ominus E\)</span>.
The result of the erosion is obtained by moving the structuring element into the white pixels of the image
and keeping only the origin of each displaced structuring element.</p>
<p>Mathematically speaking:</p>
<div class="math notranslate nohighlight">
\[
  I \ominus E = \{ x \mid E_x \subseteq I\}
\]</div>
<div class="figure align-default" id="f-mm-erosion-toy">
<div class="cell_output docutils container">
<img alt="_images/mm_7_1.png" src="_images/mm_7_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 28 </span><span class="caption-text">Example of erosion on a small image <span class="math notranslate nohighlight">\(I\)</span> by the structuring element <span class="math notranslate nohighlight">\(E\)</span> (with the origin at the centre).</span><a class="headerlink" href="#f-mm-erosion-toy" title="Permalink to this image">¶</a></p>
</div>
<p>Erosion has similar properties as dilation as stated below.</p>
<p><strong>Associativity</strong>  
The application of two consecutive erosions can be done in any order:</p>
<div class="math notranslate nohighlight">
\[
  (I \ominus E_1 ) \ominus E_2 = (I \ominus E_2) \ominus E_1 = I \ominus (E_1 \oplus E_2)
\]</div>
<p><strong>Monotony</strong>  
Erosion is a monotonous operation:</p>
<div class="math notranslate nohighlight">
\[
  I_1 \subseteq I_2  \;\Rightarrow\;  I_1 \ominus E \subseteq I_2 \ominus E
\]</div>
<p>In addition to this, dilation and erosion are dual operators.
Considering the background as the object and the object as background
(<em>i.e.</em> by working with the complement of the image),
the dilation is converted to erosion and vice versa:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
  I^\mathrm{c} \ominus E = (I \oplus E)^\mathrm{c} \\
  I^\mathrm{c} \oplus E = (I \ominus E)^\mathrm{c}
\end{split}\]</div>
</div>
<div class="section" id="comparison">
<h3>Comparison<a class="headerlink" href="#comparison" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#f-mm-real-dilation-erosion"><span class="std std-numref">Fig. 29</span></a> shows the result of dilation and erosion on a binary image of Greece.</p>
<p>As you can see, dilation:</p>
<ul class="simple">
<li><p>increases the size of objects (<em>e.g.</em> the islands are bigger),</p></li>
<li><p>fills the small holes (<em>e.g.</em> the <a class="reference external" href="https://en.wikipedia.org/wiki/Gulf_of_Corinth">Gulf of Corinth</a> does not more exist after dilation),</p></li>
<li><p>welds close objects (<em>e.g.</em> some islands are grouped into a larger island).</p></li>
</ul>
<p>On the contrary, erosion:</p>
<ul class="simple">
<li><p>decreases the size of objects (<em>e.g.</em> Crete is smaller),</p></li>
<li><p>widens the holes (<em>e.g.</em> the Gulf of Corinth is bigger after erosion),</p></li>
<li><p>separates the connected objects by a small bridge (<em>e.g.</em> the Peloponnese and mainland Greece are now disconnected),</p></li>
<li><p>removes small items (<em>e.g.</em> small islands have disappeared).</p></li>
</ul>
<div class="figure align-default" id="f-mm-real-dilation-erosion">
<div class="cell_output docutils container">
<img alt="_images/mm_9_0.png" src="_images/mm_9_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 29 </span><span class="caption-text">Dilation and erosion on a map of Greece (of size 300×300) by a disk of radius 4.</span><a class="headerlink" href="#f-mm-real-dilation-erosion" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>
<div class="section" id="composition-of-basic-operators">
<h2>Composition of basic operators<a class="headerlink" href="#composition-of-basic-operators" title="Permalink to this headline">¶</a></h2>
<div class="section" id="opening">
<h3>Opening<a class="headerlink" href="#opening" title="Permalink to this headline">¶</a></h3>
<p>Opening consists of an erosion followed by a dilation.
The erosion removes small objects but also decreases the size of bigger objects.
To avoid this, the result is dilated with the same structuring element.</p>
<div class="math notranslate nohighlight">
\[
  I \circ E = (I \ominus E) \oplus E
\]</div>
<div class="figure align-default" id="f-mm-opening-toy">
<div class="cell_output docutils container">
<img alt="_images/mm_7_2.png" src="_images/mm_7_2.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 30 </span><span class="caption-text">Example of an opening on a small image <span class="math notranslate nohighlight">\(I\)</span> by the structuring element <span class="math notranslate nohighlight">\(E\)</span> (with the origin at the centre).</span><a class="headerlink" href="#f-mm-opening-toy" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Idempotence</strong>  
Opening is an idempotent operation, that is to say, applying twice the same opening gives the same result as only one opening:</p>
<div class="math notranslate nohighlight">
\[
  (I \circ E) \circ E = I \circ E
\]</div>
</div>
<div class="section" id="closing">
<h3>Closing<a class="headerlink" href="#closing" title="Permalink to this headline">¶</a></h3>
<p>Contrary to opening, closing is firstly a dilation, then an erosion.
Indeed, expansion closes holes but enlarges objects.
To avoid the widening of the objects, an erosion can be applied with the same structuring element.</p>
<div class="math notranslate nohighlight">
\[
  I \bullet E = (I \oplus E) \ominus E
\]</div>
<div class="figure align-default" id="f-mm-closing-toy">
<div class="cell_output docutils container">
<img alt="_images/mm_7_3.png" src="_images/mm_7_3.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 31 </span><span class="caption-text">Example of closing on a small image <span class="math notranslate nohighlight">\(I\)</span> by the structuring element <span class="math notranslate nohighlight">\(E\)</span> (with yhe origin at the centre).</span><a class="headerlink" href="#f-mm-closing-toy" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Idempotence</strong>  
Similarly to opening, closing is an idempotent operation:</p>
<div class="math notranslate nohighlight">
\[
  (I \bullet E) \bullet E = I \bullet E
\]</div>
</div>
<div class="section" id="id1">
<h3>Comparison<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#f-mm-real-opening-closing"><span class="std std-numref">Fig. 32</span></a> shows the result of an opening and a closing on a binary image of Greece.</p>
<div class="figure align-default" id="f-mm-real-opening-closing">
<div class="cell_output docutils container">
<img alt="_images/mm_9_1.png" src="_images/mm_9_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 32 </span><span class="caption-text">Opening and closing on a map of Greece (of size 300×300) by a disk of radius 4.</span><a class="headerlink" href="#f-mm-real-opening-closing" title="Permalink to this image">¶</a></p>
</div>
<p>Even if the objects are slightly distorted, they conserve their respective size.</p>
<p>Especially, opening:</p>
<ul class="simple">
<li><p>removes small objects (<em>e.g.</em> small islands have disappeared),</p></li>
<li><p>smoothes the contours (the coasts are no more jagged).</p></li>
</ul>
<p>Besides, closing:</p>
<ul class="simple">
<li><p>fills small holes (<em>e.g.</em> gulfs and lakes are removed)</p></li>
<li><p>welds close shapes (<em>e.g.</em> some separated islands now form only one)</p></li>
</ul>
</div>
<div class="section" id="hit-or-miss-transform">
<h3>Hit-or-miss transform<a class="headerlink" href="#hit-or-miss-transform" title="Permalink to this headline">¶</a></h3>
<p>The hit-or-miss transform is able to detect objects of a particular shape.
It is the intersection of the two sets given by:</p>
<ul class="simple">
<li><p>the erosion by a first structuring element <span class="math notranslate nohighlight">\(E_1\)</span>: <span class="math notranslate nohighlight">\(I \ominus E_1\)</span>,</p></li>
<li><p>and the erosion of the background by a second structuring element <span class="math notranslate nohighlight">\(E_2\)</span>: <span class="math notranslate nohighlight">\(I^\mathrm{c} \ominus E_2\)</span></p></li>
</ul>
<p>with <span class="math notranslate nohighlight">\(E_1 \cap E_2 = \emptyset\)</span> (the structuring elements are disjointed).</p>
<div class="math notranslate nohighlight">
\[\begin{split}
   I \otimes (E_1, E_2)
   &amp;= (I \ominus E_1) \cap (I^\mathrm{c} \ominus E_2) \\
   &amp;= (I \ominus E_1) \cap (I \oplus E_2)^\mathrm{c}
\end{split}\]</div>
<div class="figure align-default" id="f-mm-hit-or-miss">
<a class="reference internal image-reference" href="_images/hit-or-miss.png"><img alt="_images/hit-or-miss.png" src="_images/hit-or-miss.png" style="height: 472px;" /></a>
<p class="caption"><span class="caption-number">Fig. 33 </span><span class="caption-text">Example of a hit-or-miss transform applied on image <span class="math notranslate nohighlight">\(I\)</span> by the structuring elements <span class="math notranslate nohighlight">\(E_1\)</span> and <span class="math notranslate nohighlight">\(E_2\)</span>.
The origins of the structuring elements are marked by a dot.</span><a class="headerlink" href="#f-mm-hit-or-miss" title="Permalink to this image">¶</a></p>
</div>
<p>Sometimes, the two structuring elements are combined into a single structuring element whose pixels have the following values:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(1\)</span>: pixels that belong to the object to detect,</p></li>
<li><p><span class="math notranslate nohighlight">\(-1\)</span>: pixels that do not belong to the object to detect (<em>i.e</em> pixels of the background),</p></li>
<li><p><span class="math notranslate nohighlight">\(0\)</span>: unused pixels (also called “don’t care pixels”).</p></li>
</ul>
<p>With this notation, the structuring element of the hit-or-miss transform in <a class="reference internal" href="#f-mm-hit-or-miss"><span class="std std-numref">Fig. 33</span></a> writes</p>
<div class="math notranslate nohighlight">
\[\begin{split}
  (E_1, E_2) =
  \begin{bmatrix}
    -1 &amp; -1 &amp; -1 &amp; -1 \\
    -1 &amp;  1 &amp;  1 &amp; -1 \\
    -1 &amp; -1 &amp; -1 &amp; -1
  \end{bmatrix}
\end{split}\]</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="compression.html" title="previous page">Compression</a>
    <a class='right-next' id="next-link" href="interpolation.html" title="next page">Interpolation</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Vincent Mazet (University of Strasbourg, France)<br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            Fundamental Tools for Image Processing &mdash; Vincent Mazet (Université de Strasbourg), 2020 &mdash; <a href="license.html">CC BY-NC 4.0</a>.
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>