

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Histogram &#8212; Fundamental Tools for Image Processing</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/jbvinc.css" />
    <link rel="stylesheet" type="text/css" href="_static/.ipynb_checkpoints/jbvinc-checkpoint.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Convolution" href="convolution.html" />
    <link rel="prev" title="Arithmetic Operations" href="operations.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Fundamental Tools for Image Processing</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="preface.html">
   Preface
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Basics
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="definition.html">
   What is a Digital Image?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="operations.html">
   Arithmetic Operations
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Histogram
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="convolution.html">
   Convolution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="fourier.html">
   Fourier Transform
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Compression
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="compression.html">
   Compression
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Mathematical Morphology
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="mm.html">
   Mathematical Morphology
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Registration
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="interpolation.html">
   Interpolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="registration.html">
   Registration
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Segmentation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="segmentation.html">
   Segmentation
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Restoration
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="denoising.html">
   Denoising
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="deconvolution.html">
   Deconvolution
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Feature Detection
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="feature/intro.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="feature/edges.html">
   Edges detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="feature/corners.html">
   Corner detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="feature/lines.html">
   Line detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="feature/outro.html">
   Conclusion
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  In-Class Sessions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="tp1.html">
   07/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp2.html">
   14/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp3.html">
   21/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp4.html">
   04/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp5.html">
   18/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tp6.html">
   25/11/2020
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Corrections
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp1-code.html">
   07/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp2-code.html">
   14/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp3-code.html">
   21/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp4-code.html">
   04/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp5-code.html">
   18/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="labs/tp6-code.html">
   25/11/2020
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference external" href="https://moodle3.unistra.fr/course/view.php?id=13708">
   Moodle
   <i class="fas fa-external-link-alt">
   </i>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python.html">
   Installing and Using Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="biblio.html">
   References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="license.html">
   License
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/histogram.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#definition">
   Definition
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#properties">
   Properties
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#histogram-transformation">
   Histogram transformation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#thresholding">
   Thresholding
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="histogram">
<span id="c-histogram"></span><h1>Histogram<a class="headerlink" href="#histogram" title="Permalink to this headline">¶</a></h1>
<div class="cell tag_remove-input docutils container">
</div>
<div class="section" id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h2>
<p>The histogram of a digital image depicts how the intensities of its pixels are distributed.
It is the discrete function <span class="math notranslate nohighlight">\(h\)</span> such that</p>
<div class="math notranslate nohighlight">
\[
h(i) = n_i
\]</div>
<p>where <span class="math notranslate nohighlight">\(n_i\)</span> is the number of pixels with intensity <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p><a class="reference internal" href="#f-histogram-example"><span class="std std-numref">Fig. 6</span></a> shows an image and its associated histogram.
The histogram is displayed as a bar plot, constituted as a set of <em>bins</em>.
We distinguish two “modes” on the histogram:
the one on the left corresponds to the dark tones in the image (mainly the background) and the one on the right corresponds to the light tones (the petals and the center).
Since the image has 256 gray levels, the histogram lies on [0,255].</p>
<div class="figure align-default" id="f-histogram-example">
<div class="cell_output docutils container">
<img alt="_images/histogram_3_0.png" src="_images/histogram_3_0.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 6 </span><span class="caption-text">A grayscale image and its histogram.</span><a class="headerlink" href="#f-histogram-example" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>The histogram can be seen as a discrete probability density function if it is normalized,
<em>i.e.</em> the bins are divided by the pixel number <span class="math notranslate nohighlight">\(M \times N\)</span>:</p>
<div class="math notranslate nohighlight">
\[
  p(i) = \frac{n_i}{M \times N}
  \]</div>
</li>
<li><p>The histogram gives a global information about the pixel intensities of an image but lost the spatial information in the image.
In consequence, two different images can have the same histogram (cf. <a class="reference internal" href="#f-histogram-daisy-sorted"><span class="std std-numref">Fig. 7</span></a>).</p>
<div class="figure align-default" id="f-histogram-daisy-sorted">
<div class="cell_output docutils container">
<img alt="_images/histogram_5_1.png" src="_images/histogram_5_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 7 </span><span class="caption-text">These two images have the same histogram (given <a class="reference external" href="histogram.html#f-histogram-example">Fig. 7</a>).
The image on the right actually corresponds to the pixels of the image on the left sorted wit respect to their gray level.</span><a class="headerlink" href="#f-histogram-daisy-sorted" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>The number and width of the bins are chosen by the user.</p></li>
</ul>
</div>
<div class="section" id="histogram-transformation">
<h2>Histogram transformation<a class="headerlink" href="#histogram-transformation" title="Permalink to this headline">¶</a></h2>
<p>Histogram transformation consists in applying a mathematical function to the intensity distribution.
Some transformations may be useful for improving the visual quality of an image,
although it is rarely needed inside an automatic processing.
So, one can apply a transform <span class="math notranslate nohighlight">\(T\)</span> on the pixel intensities to change their values:</p>
<div class="math notranslate nohighlight">
\[j = T(i)\]</div>
<p>where <span class="math notranslate nohighlight">\(j\)</span> and <span class="math notranslate nohighlight">\(i\)</span> are respectively the intensities of the new and the original image.
As a consequence, the histogram of the new image differs from the histogram of the original image.</p>
<p>Below are some common transformations (we suppose the pixel intensities to lie in [0,1]).</p>
<p><strong>Negative image</strong></p>
<div class="math notranslate nohighlight">
\[T(i) = 1-i\]</div>
<div class="figure align-default" id="f-histogram-negative">
<div class="cell_output docutils container">
<img alt="_images/histogram_7_1.png" src="_images/histogram_7_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 8 </span><span class="caption-text">Negative image: the gray levels are reversed.</span><a class="headerlink" href="#f-histogram-negative" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Gamma correction</strong></p>
<div class="math notranslate nohighlight">
\[T(i) = i^\gamma\]</div>
<div class="figure align-default" id="f-histogram-gamma">
<div class="cell_output docutils container">
<img alt="_images/histogram_7_3.png" src="_images/histogram_7_3.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 9 </span><span class="caption-text">Gamma correction modify the coulours of an image acquired by an electronic system,
it is used to take into account the non-linear sensibility of human eyes to the light.
Here, <span class="math notranslate nohighlight">\(\gamma=0.4\)</span></span><a class="headerlink" href="#f-histogram-gamma" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Histogram spreading</strong></p>
<div class="math notranslate nohighlight">
\[T(i) = \frac{i-i_\text{min}}{i_\text{max}-i_\text{min}}\]</div>
<p>where <span class="math notranslate nohighlight">\(i_\text{min}\)</span> and <span class="math notranslate nohighlight">\(i_\text{max}\)</span> are respectively the minimum and maximum valeurs of the image.</p>
<div class="figure align-default" id="f-histogram-spread">
<div class="cell_output docutils container">
<img alt="_images/histogram_7_6.png" src="_images/histogram_7_6.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 10 </span><span class="caption-text">Histogram spreading enhances the contrast by “dilating” the histogram to the whole intensity interval.</span><a class="headerlink" href="#f-histogram-spread" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Histogram equalization</strong></p>
<div class="math notranslate nohighlight">
\[T(i) = \frac{1}{MN} \sum_{k=0}^i n_k\]</div>
<p>where <span class="math notranslate nohighlight">\(M\)</span> and <span class="math notranslate nohighlight">\(N\)</span> are the image size and <span class="math notranslate nohighlight">\(n_k\)</span> is the number of pixels with intensity <span class="math notranslate nohighlight">\(k\)</span>.
This transformation aims to spread the histogram over the entire intensity range, and to make the histogram as flat as possible.
A consequence is an increasing of the image contrast.
It is a fully automatic method that does not require any parameters to be set.
The demonstration of this equation is available in <a class="reference internal" href="biblio.html#c-biblio"><span class="std std-ref">[Gonzalez 2010, section 3.3.1]</span></a>.</p>
<div class="figure align-default" id="f-histogram-equalization">
<div class="cell_output docutils container">
<img alt="_images/histogram_7_8.png" src="_images/histogram_7_8.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 11 </span><span class="caption-text">Histogram equalization is another contrast enhancing and tend to make the details more visible.</span><a class="headerlink" href="#f-histogram-equalization" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="thresholding">
<h2>Thresholding<a class="headerlink" href="#thresholding" title="Permalink to this headline">¶</a></h2>
<p>The histogram is sometimes very useful to segment the image in two classes,
that is to distinguish the objects in the image with respect to their gray level.
Indeed, if the histogram shows clearly two modes (<em>i.e.</em> two “bumps”),
on can define a threshold <span class="math notranslate nohighlight">\(T\)</span> between these two modes, then apply a thresholding on the pixels, such that:</p>
<ul class="simple">
<li><p>if the pixel level is lower that <span class="math notranslate nohighlight">\(T\)</span>, then the pixel is in class 0 (displayed in black in <a class="reference internal" href="#f-histogram-threshold"><span class="std std-numref">Fig. 12</span></a>),</p></li>
<li><p>otherwise the pixel is in class 1 (displayed in white in <a class="reference internal" href="#f-histogram-threshold"><span class="std std-numref">Fig. 12</span></a>).</p></li>
</ul>
<div class="figure align-default" id="f-histogram-threshold">
<div class="cell_output docutils container">
<img alt="_images/histogram_9_1.png" src="_images/histogram_9_1.png" />
</div>
<p class="caption"><span class="caption-number">Fig. 12 </span><span class="caption-text">Threshold with a threshold set to 115.</span><a class="headerlink" href="#f-histogram-threshold" title="Permalink to this image">¶</a></p>
</div>
<p>Such a thresholding yields a binary image whose pixels have only two values.
Several methods exist that compute automatically the threshold, such that <a class="reference internal" href="segmentation.html#c-segmentation"><span class="std std-ref">Otsu’s method</span></a>.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="operations.html" title="previous page">Arithmetic Operations</a>
    <a class='right-next' id="next-link" href="convolution.html" title="next page">Convolution</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Vincent Mazet (University of Strasbourg, France)<br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            Fundamental Tools for Image Processing &mdash; Vincent Mazet (Université de Strasbourg), 2020 &mdash; <a href="license.html">CC BY-NC 4.0</a>.
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="_static/js/index.js"></script>
    
  </body>
</html>