
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Line detection &#8212; Fundamental Tools for Image Processing</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/jbvinc.css" />
    <link rel="stylesheet" type="text/css" href="../_static/.ipynb_checkpoints/jbvinc-checkpoint.css" />
    <link rel="stylesheet" type="text/css" href="../_static/spanels-index--0afa1ebdab0bb23b98b56d34c23d9f57.css" />
    <link rel="stylesheet" type="text/css" href="../_static/spanels-variables--ffc7f74dcb1b9eecba2dbcbc22818714.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Conclusion" href="outro.html" />
    <link rel="prev" title="Corner detection" href="corners.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  
  <h1 class="site-logo" id="site-title">Fundamental Tools for Image Processing</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../preface.html">
   Preface
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Basics
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../definition.html">
   What is a Digital Image?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../operations.html">
   Arithmetic Operations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../histogram.html">
   Histogram
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../convolution.html">
   Convolution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../fourier.html">
   Fourier Transform
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Compression
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../compression.html">
   Compression
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Mathematical Morphology
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../mm.html">
   Mathematical Morphology
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Registration
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../interpolation.html">
   Interpolation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../registration.html">
   Registration
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Segmentation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../segmentation.html">
   Segmentation
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Restoration
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../denoising.html">
   Denoising
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../deconvolution.html">
   Deconvolution
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Feature Detection
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="edges.html">
   Edges detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="corners.html">
   Corner detection
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Line detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="outro.html">
   Conclusion
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  In-Class Sessions
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../tp1.html">
   07/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tp2.html">
   14/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tp3.html">
   21/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tp4.html">
   04/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tp5.html">
   18/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tp6.html">
   25/11/2020
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Corrections
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/tp1-code.html">
   07/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/tp2-code.html">
   14/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/tp3-code.html">
   21/10/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/tp4-code.html">
   04/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/tp5-code.html">
   18/11/2020
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labs/tp6-code.html">
   25/10/2020
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference external" href="https://moodle3.unistra.fr/course/view.php?id=13708">
   Moodle
   <i class="fas fa-external-link-alt">
   </i>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../python.html">
   Installing and Using Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../biblio.html">
   References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../license.html">
   License
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/feature/lines.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#premiere-parametrisation">
   Première paramétrisation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#nouvelle-parametrisation">
   Nouvelle paramétrisation
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="line-detection">
<h1>Line detection<a class="headerlink" href="#line-detection" title="Permalink to this headline">¶</a></h1>
<p>La détection de ligne consiste à détecter des alignements de points sur une image de contours.</p>
<div class="figure align-default" id="f-feature-lines-example">
<a class="reference internal image-reference" href="../_images/line-example.png"><img alt="../_images/line-example.png" src="../_images/line-example.png" style="width: 250px;" /></a>
</div>
<p>La méthode la plus courante pour cela est la transformée de Hough [Hough 1962].
Comme la transformée de Fourier, elle transpose l’image du domaine spatial vers un autre domaine,
où les informations d’intérêt sont représentées différemment.
En l’occurrence, les lignes dans le domaine spatial sont transformées en points dans le domaine de Hough.</p>
<p>La transformée de Hough n’est pas restreinte aux lignes et peut être utilisée pour détecter une autre forme,
tant qu’il existe une paramétrisation mathématique de cette forme.
Le principe de fonctionnement reste cependant le même, et la suite de ce chapitre se concentre sur la détection de lignes.</p>
<div class="section" id="premiere-parametrisation">
<h2>Première paramétrisation<a class="headerlink" href="#premiere-parametrisation" title="Permalink to this headline">¶</a></h2>
<p>Dans le domaine spatial <span class="math notranslate nohighlight">\((x,y)\)</span>, une ligne est paramétrée par son coefficient directeur <span class="math notranslate nohighlight">\(a\)</span> et son ordonnée à l’origine <span class="math notranslate nohighlight">\(b\)</span> :</p>
<div class="math notranslate nohighlight">
\[
y = a x + b.
\]</div>
<p>Ainsi, toute droite peut être représentée par le couple <span class="math notranslate nohighlight">\((a,b)\)</span>.
C’est l’idée de Hough : chaque ligne de l’image sera représentée par un point dans le domaine de Hough <span class="math notranslate nohighlight">\((a,b)\)</span>.
Le domaine de Hough est aussi appelé espace des paramètres.</p>
<div class="figure align-default" id="f-feature-lines-hough-1">
<a class="reference internal image-reference" href="../_images/feat-1.png"><img alt="../_images/feat-1.png" src="../_images/feat-1.png" style="width: 450px;" /></a>
<p class="caption"><span class="caption-number">Fig. 105 </span><span class="caption-text">La transformée de Hough transforme une droite de l’image en un point dans l’espace des paramètres.</span><a class="headerlink" href="#f-feature-lines-hough-1" title="Permalink to this image">¶</a></p>
</div>
<p>À l’inverse, un point de l’image est représenté par une droite dans l’espace des paramètres
(qui a pour équation <span class="math notranslate nohighlight">\(b = \alpha a + \beta\)</span>).</p>
<div class="figure align-default" id="f-feature-lines-hough-2">
<a class="reference internal image-reference" href="../_images/feat-2.png"><img alt="../_images/feat-2.png" src="../_images/feat-2.png" style="width: 450px;" /></a>
</div>
<p>En particulier, une droite constante <span class="math notranslate nohighlight">\(b=\beta\)</span> dans l’espace des paramètres correspond à un point d’abscisse <span class="math notranslate nohighlight">\(x=0\)</span> dans l’image.</p>
<div class="figure align-default" id="f-feature-lines-hough-3">
<a class="reference internal image-reference" href="../_images/feat-3.png"><img alt="../_images/feat-3.png" src="../_images/feat-3.png" style="width: 450px;" /></a>
</div>
<p>Enfin, lorsque plusieurs points dans l’image sont alignés, leurs droites respectives dans l’espace des paramètres
se coupent en un unique point, qui définit l’équation de la droite les reliant.</p>
<div class="figure align-default" id="f-feature-lines-hough-5">
<a class="reference internal image-reference" href="../_images/feat-5.png"><img alt="../_images/feat-5.png" src="../_images/feat-5.png" style="width: 450px;" /></a>
</div>
<p>Cependant, comme l’espace des paramètres est fini et discrétisé (puisqu’il est traité par un ordinateur),
certaines lignes de l’image ne pourront pas y être représentées.
C’est le cas par exemple d’une droite verticale pour laquelle <span class="math notranslate nohighlight">\(a=\infty\)</span>.
Aussi, une autre paramétrisation des droites est utilisées dans la pratique.</p>
</div>
<div class="section" id="nouvelle-parametrisation">
<h2>Nouvelle paramétrisation<a class="headerlink" href="#nouvelle-parametrisation" title="Permalink to this headline">¶</a></h2>
<p>Pour éviter le problème de l’espace de paramétrisation <span class="math notranslate nohighlight">\((a,b)\)</span>, les droites sont définies à partir de deux autres paramètres :</p>
<ul class="simple">
<li><p>la longueur <span class="math notranslate nohighlight">\(s\)</span> du segment reliant l’origine avec le point le plus proche de la droite (ce segment est donc perpendiculaire à la droite),</p></li>
<li><p>l’angle <span class="math notranslate nohighlight">\(\theta\)</span> que fait ce segment avec l’axe des abscisses.</p></li>
</ul>
<p>Chaque ligne de l’image est donc paramétrée par le couple <span class="math notranslate nohighlight">\((\theta,s)\)</span> qui correspond à un point dans l’espace de paramètre <span class="math notranslate nohighlight">\((\theta,s)\)</span>.</p>
<div class="figure align-default" id="f-feature-lines-houghnew-1">
<a class="reference internal image-reference" href="../_images/feature-50.png"><img alt="../_images/feature-50.png" src="../_images/feature-50.png" style="width: 450px;" /></a>
<p class="caption"><span class="caption-number">Fig. 109 </span><span class="caption-text">Nouvelle paramétrisation de la transformée de Hough.</span><a class="headerlink" href="#f-feature-lines-houghnew-1" title="Permalink to this image">¶</a></p>
</div>
<!-- Equation de la droite paramétrée ainsi -->
<p>On peut montrer que pour chaque point <span class="math notranslate nohighlight">\((x_i,y_i)\)</span> de l’image, une sinusoïde d’équation <span class="math notranslate nohighlight">\(s = x_i \cos(\theta) + y_i \sin(\theta)\)</span>
est associée dans l’espace <span class="math notranslate nohighlight">\((\theta,s)\)</span>.
Les sinusoïdes correspondant aux points d’une même droite se coupent au point <span class="math notranslate nohighlight">\((s^*,\theta^*)\)</span> paramétrisant cette droite.</p>
<p>L’algorithme de la transformée de Hough est le suivant :</p>
<div class="figure align-default" id="f-feature-lines-houghnew-algo">
<a class="reference internal image-reference" href="../_images/feat-9.png"><img alt="../_images/feat-9.png" src="../_images/feat-9.png" style="width: 450px;" /></a>
</div>
<p>La <a class="reference internal" href="#f-feature-lines-example"><span class="std std-numref">Fig. 104</span></a> donne un exemple de transformée de Hough sur une image représentant un carré
(on peut imaginer que cette image provient d’une détection de contour).</p>
<!-- dans l'example, afficher d'abord l'image avant détection de contour (un losange blanc donc) -->
<div class="figure align-default" id="f-feature-lines-houghnew-example">
<a class="reference internal image-reference" href="../_images/feat-10.png"><img alt="../_images/feat-10.png" src="../_images/feat-10.png" style="width: 600px;" /></a>
<p class="caption"><span class="caption-number">Fig. 111 </span><span class="caption-text">Tranformée de Hough associée à l’image de gauche.
Les sinusoïdes se coupent en quatre points (très lumineux) telle que l’association entre les lignes de l’image et les points sont :
A<span class="math notranslate nohighlight">\(\rightarrow\)</span>2, B<span class="math notranslate nohighlight">\(\rightarrow\)</span>3, C<span class="math notranslate nohighlight">\(\rightarrow\)</span>1 et D<span class="math notranslate nohighlight">\(\rightarrow\)</span>4;</span><a class="headerlink" href="#f-feature-lines-houghnew-example" title="Permalink to this image">¶</a></p>
</div>
<!-- Autre exemple : Léo Letouzey + Thomas Chabrier 2008 -->
<p>Finalement, la transformée de Hough présente plusieurs avantages :</p>
<ul class="simple">
<li><p>elle est robuste au bruit,</p></li>
<li><p>elle est robuste aux occlusions (elle peut détecter des objets partiellement recouverts)</p></li>
</ul>
<p>De plus, elle est extensible à tout objet paramétré (cercles, ellipses…).
Par exemple, un cercle est paramétré par trois paramètres (les coordonnées du centre et le rayon).
Une transformée de Hough est donc possible, et son espace de paramètres est en trois dimensions.</p>
<p>On voit donc l’inconvénient principal de cette méthode,
c’est-à-dire que la dimension de l’accumulateur est égale aux nombres de paramètres,
et donc le temps de calcul et la mémoire utilisée deviennent vite conséquents.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./feature"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="corners.html" title="previous page">Corner detection</a>
    <a class='right-next' id="next-link" href="outro.html" title="next page">Conclusion</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Vincent Mazet (University of Strasbourg, France)<br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            Fundamental Tools for Image Processing &mdash; Vincent Mazet (Université de Strasbourg), 2020 &mdash; <a href="license.html">CC BY-NC 4.0</a>.
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>